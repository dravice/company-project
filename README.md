# PubMed Paper Fetcher

This project provides a Python command-line program to fetch research papers from PubMed, identify authors affiliated with pharmaceutical or biotech companies, and output the results to the console or a CSV file.

## 1. Project Structure

The project is organized as a Poetry-managed Python package with a `src` layout for the main application logic:
company-project/
├── src/
│   └── company_project/
│       ├── init.py          # Makes 'company_project' a Python package
│       ├── get_papers_list.py   # Main command-line script (entry point)
│       ├── pubmed_api_client.py # Handles PubMed API interactions
│       └── xml_parser.py        # Parses PubMed XML responses
├── pyproject.toml               # Poetry project configuration and dependencies
├── poetry.lock                  # Poetry's locked dependencies
└── README.md                    # This documentation file

* `src/company_project/`: This directory contains the core application source code.
    * `__init__.py`: An empty file that signifies `company_project` as a Python package.
    * `get_papers_list.py`: This is the main script that serves as the command-line entry point. It orchestrates fetching data from PubMed, parsing the XML, and filtering for company-affiliated authors.
    * `pubmed_api_client.py`: This module encapsulates the logic for interacting with the PubMed E-utilities API. It includes functions for searching PubMed IDs and fetching detailed article XMLs.
    * `xml_parser.py`: This module is responsible for parsing the XML responses received from PubMed, extracting relevant article information, and identifying non-academic authors and their affiliations.
* `pyproject.toml`: Defines project metadata, dependencies, and the `get-papers-list` executable script.
* `poetry.lock`: Generated by Poetry, this file locks the exact versions of all dependencies for reproducible builds.

## 2. Installation and Execution

### Prerequisites

* Python 3.9+
* Poetry (installation instructions: `pip install poetry`)

### Setup

1.  **Clone the Repository:**
    ```bash
    git clone <your-repository-url>
    cd company-project
    ```
    (Replace `<your-repository-url>` with the actual URL of your GitHub repository.)

2.  **Install Dependencies:**
    Navigate to the project's root directory (where `pyproject.toml` is located) and install the dependencies using Poetry:
    ```bash
    poetry install
    ```
    This command will create a virtual environment (if one doesn't exist) and install all the necessary libraries specified in `pyproject.toml`.

### Execution

Once dependencies are installed, you can run the `get-papers-list` command via Poetry:

```bash
poetry run get-papers-list "your search query" [options]
```
Arguments and Options:

query: The search query for PubMed (e.g., "cancer immunology", "diabetes treatment Pfizer"). This is a required positional argument.

-h or --help: Display usage instructions and exit.

-d or --debug: Print debug information during execution, showing API call details and parsing steps.

-f <filename> or --file <filename>: Specify the filename (e.g., results.csv) to save the output. If this option is not provided, the results will be printed directly to the console.

Examples:

Search for papers and print results to console:

```Bash

poetry run get-papers-list "CRISPR gene editing"
Search for papers, print debug info, and save results to a CSV file:
```
```Bash

poetry run get-papers-list "Alzheimer's disease immunotherapy" --debug --file alz_results.csv
Search for papers and save to a specific file:
```
```Bash

poetry run get-papers-list "vaccine development Moderna" -f moderna_vaccines.csv
```
3. How Non-academic Authors Are Identified
The program identifies non-academic authors by examining the affiliation strings present in the PubMed article XML. A predefined list of keywords (e.g., "pharmaceutical", "pharma", "biotech", "inc.", "llc", "gmbh", "corporation", common company names like "Pfizer", "Novartis", "Roche", etc.) is used to detect affiliations with companies rather than academic institutions. The corresponding author's email is also extracted.

4. Tools Used
Python: The core programming language.

Poetry: Used for dependency management and packaging.

Poetry Official Website

Requests: A Python library for making HTTP requests to interact with the PubMed API.

Requests Documentation

LXML: A powerful and easy-to-use library for processing XML and HTML.

LXML Documentation

Google Gemini (Large Language Model): This LLM was used to assist in the development process, including generating initial code structures, debugging, and refining logic based on provided tracebacks and problem descriptions.
